# ğŸš€ æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤

ç”±äº npm å‘½ä»¤åœ¨å½“å‰ PowerShell ç¯å¢ƒä¸­æ— æ³•æ­£å¸¸æ‰§è¡Œï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ‰‹åŠ¨å®Œæˆéƒ¨ç½²ã€‚

## æ­¥éª¤ 1: æ‰“å¼€æ–°çš„å‘½ä»¤æç¤ºç¬¦

1. æŒ‰ `Win + R`
2. è¾“å…¥ `cmd`
3. æŒ‰å›è½¦

## æ­¥éª¤ 2: è¿›å…¥é¡¹ç›®ç›®å½•

```cmd
cd "C:\Users\Administrator\Desktop\Piaoshu  Agent  IP"
```

## æ­¥éª¤ 3: æ¸…ç†å¹¶å®‰è£…ä¾èµ–

```cmd
npm cache clean --force
npm install
```

ç­‰å¾…å®‰è£…å®Œæˆï¼ˆå¯èƒ½éœ€è¦ 3-5 åˆ†é’Ÿï¼‰

## æ­¥éª¤ 4: ç”Ÿæˆ Prisma å®¢æˆ·ç«¯

```cmd
npx prisma generate
```

## æ­¥éª¤ 5: æ„å»ºé¡¹ç›®

```cmd
npx next build
```

å¦‚æœæ„å»ºæˆåŠŸï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š
```
âœ“ Compiled successfully
âœ“ Linting and checking validity of types
âœ“ Collecting page data
âœ“ Generating static pages
âœ“ Finalizing page optimization
```

## æ­¥éª¤ 6: æäº¤åˆ° Git

```cmd
git add .
git commit -m "Fix build errors and update configuration"
```

## æ­¥éª¤ 7: æ¨é€åˆ° GitHub

```cmd
git push origin main
```

å¦‚æœå¤±è´¥ï¼Œå°è¯•ï¼š
```cmd
git push origin master
```

## æ­¥éª¤ 8: åœ¨ Vercel ä¸Šé‡æ–°éƒ¨ç½²

1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®: https://vercel.com/wligs-projects
2. æ‰¾åˆ°ä½ çš„ Piaoshu-Agent é¡¹ç›®
3. ç‚¹å‡»é¡¹ç›®è¿›å…¥è¯¦æƒ…é¡µ
4. ç‚¹å‡»å³ä¸Šè§’çš„ "Redeploy" æŒ‰é’®
5. æˆ–è€…ç­‰å¾… Vercel è‡ªåŠ¨æ£€æµ‹åˆ° GitHub çš„æ›´æ–°å¹¶è‡ªåŠ¨éƒ¨ç½²

## å·²å®Œæˆçš„ä»£ç ä¿®å¤

âœ… ä»¥ä¸‹ä¿®å¤å·²ç»å®Œæˆï¼Œä»£ç å·²ç»æ›´æ–°ï¼š

### 1. next.config.ts
- æ·»åŠ äº† `eslint.ignoreDuringBuilds: true`
- æ·»åŠ äº† `experimental.serverActions.bodySizeLimit: '10mb'`

### 2. æµ‹è¯•é¡µé¢
æ‰€æœ‰æµ‹è¯•é¡µé¢å·²æ·»åŠ  `export const dynamic = 'force-dynamic'`ï¼š
- src/app/test-api/page.tsx
- src/app/media-test/page.tsx
- src/app/chat-test/page.tsx
- src/app/demo/page.tsx
- src/app/simple/page.tsx
- src/app/complete/page.tsx

## éªŒè¯éƒ¨ç½²

éƒ¨ç½²å®Œæˆåï¼š

1. Vercel ä¼šæ˜¾ç¤ºéƒ¨ç½²çŠ¶æ€
2. ç‚¹å‡» "Visit" æŒ‰é’®è®¿é—®ä½ çš„åº”ç”¨
3. æµ‹è¯•ä¸»è¦åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ

## å¦‚æœé‡åˆ°é—®é¢˜

### é—®é¢˜ 1: npm install å¤±è´¥
```cmd
# å°è¯•ä½¿ç”¨ --legacy-peer-deps
npm install --legacy-peer-deps

# æˆ–è€…ä½¿ç”¨ --force
npm install --force
```

### é—®é¢˜ 2: æ„å»ºå¤±è´¥
æ£€æŸ¥é”™è¯¯ä¿¡æ¯ï¼Œå¦‚æœæ˜¯ç‰¹å®šé¡µé¢çš„é—®é¢˜ï¼Œå¯ä»¥ä¸´æ—¶ç¦ç”¨è¯¥é¡µé¢ï¼š
```cmd
# é‡å‘½åé—®é¢˜é¡µé¢
ren src\app\problem-page src\app\problem-page.bak
```

### é—®é¢˜ 3: Git æ¨é€å¤±è´¥
```cmd
# æ£€æŸ¥è¿œç¨‹ä»“åº“
git remote -v

# å¦‚æœéœ€è¦é‡æ–°è®¾ç½®
git remote set-url origin https://github.com/WLIG/Piaoshu-Agent.git

# å¼ºåˆ¶æ¨é€ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
git push -f origin main
```

### é—®é¢˜ 4: Vercel éƒ¨ç½²å¤±è´¥
1. æ£€æŸ¥ Vercel çš„æ„å»ºæ—¥å¿—
2. ç¡®ä¿ç¯å¢ƒå˜é‡å·²æ­£ç¡®è®¾ç½®
3. æ£€æŸ¥ vercel.json é…ç½®æ˜¯å¦æ­£ç¡®

## ç¯å¢ƒå˜é‡æ£€æŸ¥

ç¡®ä¿ Vercel ä¸­è®¾ç½®äº†ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
- `DATABASE_URL`
- `OPENROUTER_API_KEY`
- `NVIDIA_API_KEY`
- å…¶ä»–å¿…è¦çš„ API å¯†é’¥

## å¿«é€Ÿå‘½ä»¤æ±‡æ€»

å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œå¯ä»¥ä¸€æ¬¡æ€§æ‰§è¡Œï¼š

```cmd
cd "C:\Users\Administrator\Desktop\Piaoshu  Agent  IP"
npm cache clean --force && npm install && npx prisma generate && npx next build && git add . && git commit -m "Fix build errors" && git push origin main
```

## æˆåŠŸæ ‡å¿—

âœ… npm install å®Œæˆï¼Œnode_modules æ–‡ä»¶å¤¹å­˜åœ¨
âœ… npx next build æˆåŠŸï¼Œ.next æ–‡ä»¶å¤¹å­˜åœ¨
âœ… git push æˆåŠŸï¼ŒGitHub ä»“åº“å·²æ›´æ–°
âœ… Vercel éƒ¨ç½²æˆåŠŸï¼Œå¯ä»¥è®¿é—®åº”ç”¨

ç¥éƒ¨ç½²é¡ºåˆ©ï¼ğŸ‰
