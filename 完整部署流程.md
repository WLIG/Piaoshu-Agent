# 🚀 飘叔Agent 完整部署流程

## 📋 部署步骤总览

### 阶段1: 代码准备 ✅
- [x] 创建部署配置文件
- [x] 优化package.json脚本
- [x] 准备环境变量配置
- [x] 创建GitHub README

### 阶段2: 推送到GitHub
```bash
# 执行部署脚本
.\deploy-to-github.ps1
```

### 阶段3: Vercel部署
1. 访问 https://vercel.com/wligs-projects
2. 点击 "New Project"
3. 导入 GitHub 仓库
4. 配置环境变量
5. 一键部署

## 🔧 现在执行部署

### 步骤1: 运行部署脚本
```powershell
# 在PowerShell中执行
.\deploy-to-github.ps1
```

这个脚本会：
- 初始化Git仓库
- 添加远程仓库地址
- 提交所有代码
- 推送到GitHub

### 步骤2: Vercel配置

#### 环境变量设置
在Vercel项目设置中添加：

```
DATABASE_URL = file:./db/production.db
Z_AI_API_KEY = demo_key
Z_AI_BASE_URL = https://api.z.ai/v1
OPENAI_API_KEY = demo_key
NEXTAUTH_SECRET = your_production_secret_key
NODE_ENV = production
NEXT_PUBLIC_APP_URL = https://your-domain.vercel.app
```

#### 构建设置
- **Framework Preset**: Next.js
- **Build Command**: `npm run vercel:build`
- **Output Directory**: `.next`
- **Install Command**: `npm install`

## 🎯 部署后验证

### 功能检查清单
- [ ] 页面正常加载
- [ ] 聊天功能正常工作
- [ ] Plus按钮四个功能可用
- [ ] 语音输入功能正常
- [ ] 图片分析功能正常
- [ ] 文档上传功能正常
- [ ] 移动端适配正常

### 性能检查
- [ ] 首页加载时间 < 3秒
- [ ] API响应时间 < 2秒
- [ ] 图片上传处理正常
- [ ] 语音录制功能正常

## 🌐 预期部署地址

部署成功后，飘叔Agent将可通过以下地址访问：
- **主域名**: https://piaoshu-agent.vercel.app
- **预览域名**: https://piaoshu-agent-git-main-wligs-projects.vercel.app

## 📱 移动端测试

部署完成后，请在以下设备测试：
- iPhone Safari
- Android Chrome
- iPad Safari
- 桌面浏览器

## 🔄 持续部署

每次代码更新后：
```bash
git add .
git commit -m "更新功能"
git push origin main
```

Vercel会自动重新部署。

## 🎉 部署完成标志

当你看到以下内容时，表示部署成功：
- Vercel显示 "Deployment completed"
- 可以正常访问部署地址
- 所有功能正常工作
- 移动端适配正常

## 📞 如需帮助

如果部署过程中遇到问题：
1. 检查Vercel构建日志
2. 确认环境变量配置正确
3. 验证GitHub代码推送成功
4. 检查API端点是否正常响应

---

**🚀 准备好了吗？执行 `.\deploy-to-github.ps1` 开始部署！**

*部署流程创建时间: 2026年2月5日*