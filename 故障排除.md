# 🔧 飘叔 Agent 故障排除

## ⚠️ 问题：访问 http://localhost:3000 没有页面

### 原因分析

服务器进程已停止，需要重新启动。

---

## ✅ 解决方案

### 步骤 1：重新启动服务器

**在你的终端执行：**

```bash
cd "C:\Users\Administrator\Desktop\Piaoshu  Agent  IP"
npm run dev
```

**等待看到：**
```
✓ Ready in XXXms
○ Local:        http://localhost:3000
```

**⚠️ 重要：保持这个终端窗口打开！不要关闭！**

---

### 步骤 2：确认服务器正在运行

**检查终端输出，应该看到：**
- ✅ `✓ Ready in XXXms`
- ✅ `○ Local: http://localhost:3000`
- ✅ 没有错误信息

---

### 步骤 3：访问页面

**在浏览器打开：**
```
http://localhost:3000
```

**应该看到：**
- ✅ 飘叔Agent 标题
- ✅ 三个标签：推荐流、文章列表、对话
- ✅ 搜索框
- ✅ 用户头像

---

## 🐛 常见问题

### Q1: 端口 3000 被占用

**症状：**
```
Error: listen EADDRINUSE: address already in use :::3000
```

**解决方案：**

**方法 A：查找并关闭占用端口的进程**
```bash
# 查看占用端口的进程
netstat -ano | findstr :3000

# 记下 PID（最后一列的数字）
# 然后关闭该进程
taskkill /PID <PID号> /F
```

**方法 B：使用其他端口**
```bash
npm run dev -- -p 3001
# 然后访问 http://localhost:3001
```

---

### Q2: 编译错误

**症状：**
终端显示编译错误或类型错误

**解决方案：**
```bash
# 1. 停止服务器（Ctrl+C）
# 2. 清理缓存
rm -rf .next
# 或 Windows PowerShell:
Remove-Item -Recurse -Force .next

# 3. 重新启动
npm run dev
```

---

### Q3: 页面空白但无错误

**解决方案：**

1. **打开浏览器控制台（F12）**
2. **查看 Console 标签**
   - 是否有 JavaScript 错误？
   - 是否有网络请求失败？

3. **查看 Network 标签**
   - 刷新页面
   - 查看所有请求是否成功（状态码 200）
   - 是否有 404 或 500 错误？

4. **硬刷新页面**
   - Windows: `Ctrl + Shift + R`
   - Mac: `Cmd + Shift + R`

---

### Q4: 数据库错误

**症状：**
```
PrismaClientInitializationError
```

**解决方案：**
```bash
# 重新推送数据库
npx prisma db push

# 重新初始化数据
# 在浏览器访问：
http://localhost:3000/api/seed
```

---

### Q5: 模块未找到错误

**症状：**
```
Module not found: Can't resolve '@/components/...'
```

**解决方案：**
```bash
# 1. 停止服务器
# 2. 重新安装依赖
npm install

# 3. 重新生成 Prisma Client
npx prisma generate

# 4. 重新启动
npm run dev
```

---

## 📋 完整的重启流程

如果遇到任何问题，按照以下完整流程重启：

```bash
# 1. 停止服务器（如果正在运行）
# 按 Ctrl+C

# 2. 清理缓存
Remove-Item -Recurse -Force .next

# 3. 确认数据库
npx prisma db push

# 4. 启动服务器
npm run dev

# 5. 等待编译完成
# 看到 "✓ Ready in XXXms"

# 6. 访问页面
# http://localhost:3000
```

---

## 🔍 检查清单

在访问页面前，确认：

- [ ] 终端显示 "✓ Ready in XXXms"
- [ ] 终端显示 "○ Local: http://localhost:3000"
- [ ] 没有红色错误信息
- [ ] 终端窗口保持打开
- [ ] 访问的 URL 正确：http://localhost:3000

---

## 📊 验证服务器状态

### 方法 1：检查 API

在浏览器访问：
```
http://localhost:3000/api/articles
```

**应该看到：**
```json
{
  "success": true,
  "data": {
    "articles": [...]
  }
}
```

### 方法 2：检查数据初始化

在浏览器访问：
```
http://localhost:3000/api/seed
```

**应该看到：**
```json
{
  "success": true,
  "message": "Successfully seeded 6 articles"
}
```

---

## 🎯 成功标准

**服务器正常运行的标志：**
1. ✅ 终端显示 "Ready"
2. ✅ 访问 http://localhost:3000 看到页面
3. ✅ 访问 http://localhost:3000/api/articles 返回数据
4. ✅ 浏览器控制台无错误

---

## 💡 预防措施

### 保持服务器运行
- 不要关闭运行 `npm run dev` 的终端
- 如果需要执行其他命令，打开新终端
- 服务器会自动重新编译代码更改

### 定期检查
- 查看终端是否有错误
- 检查浏览器控制台
- 确认端口没有被占用

---

## 📞 需要帮助？

如果问题仍然存在：

1. **查看终端的完整错误信息**
2. **查看浏览器控制台的错误**
3. **尝试完整的重启流程**
4. **检查是否有其他程序占用 3000 端口**

---

## 🚀 快速重启命令

**复制粘贴到终端：**

```bash
cd "C:\Users\Administrator\Desktop\Piaoshu  Agent  IP"
npm run dev
```

**等待看到 "Ready"，然后访问：**
```
http://localhost:3000
```

---

**祝你成功！** 🎉
